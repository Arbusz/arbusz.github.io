<!DOCTYPE html>
<html class="nojs" lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes">
<title>配置vim用于go开发 – Hugo Zen theme</title>
<meta name="created" content="2018-09-02T17:10:44&#43;0800">
<meta name="modified" content="2018-09-02T17:10:44&#43;0800">

<meta name="description" content="因为服务器没有图形界面，所以项配置一个vim作为go语言开发工具。 服务器是centos，所以以下命令适用于centos系统： 首先检查vim是否开启Python支持： 运行vim --version |grep python 如果打印出的Python前面是减号，说明没有加入python支持，后面配置YCM就会报错。所以让我们重新编译vim。 更新源 sudo yum upgrade sduo yum update  升级gcc sudo yum install centos-release-scl -y sudo yum install devtoolset-3-toolchain -y sudo yum install gcc-c&#43;&#43; sudo scl enable devtoolset-3 bash  安装Python开发环境 sudo yum upgrade sudo yum install python-devel  升级vim yum install ncurses-devel wget https://github.com/vim/vim/archive/master.zip unzip master.zip cd vim-master cd src/ ./configure --with-features=huge -enable-pythoninterp --with-python-config-dir=/usr/lib/python2.7/config sudo make sudo make install export PATH=/usr/local/bin:$PATH  准备工作就绪，可以下载编译YCM了 git clone https://github.">
<meta property="og:site_name" content="Hugo Zen theme">
<meta property="og:title" content="配置vim用于go开发">
<meta property="og:url" content="https://arbusz.github.io/post/%E9%85%8D%E7%BD%AEvim%E7%94%A8%E4%BA%8Ego%E5%BC%80%E5%8F%91/">
<meta name="og:image" content="https://arbusz.github.io/xdeb-org.jpg">
<meta name="generator" content="Hugo 0.40.1" />
<meta name="contact" content="info@example.org">
<link rel="canonical" href="https://arbusz.github.io/post/%E9%85%8D%E7%BD%AEvim%E7%94%A8%E4%BA%8Ego%E5%BC%80%E5%8F%91/">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/print.css" media="print">
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "配置vim用于go开发",
    "datePublished": "2018-09-02T17:10:44+08:00",
    "dateModified": "2018-09-02T17:10:44+08:00",
    "url" : "https://arbusz.github.io/post/%E9%85%8D%E7%BD%AEvim%E7%94%A8%E4%BA%8Ego%E5%BC%80%E5%8F%91/",
    "description": "因为服务器没有图形界面，所以项配置一个vim作为go语言开发工具。 服务器是centos，所以以下命令适用于centos系统： 首先检查vim是否开启Python支持： 运行vim --version |grep python 如果打印出的Python前面是减号，说明没有加入python支持，后面配置YCM就会报错。所以让我们重新编译vim。 更新源 sudo yum upgrade sduo yum update  升级gcc sudo yum install centos-release-scl -y sudo yum install devtoolset-3-toolchain -y sudo yum install gcc-c++ sudo scl enable devtoolset-3 bash  安装Python开发环境 sudo yum upgrade sudo yum install python-devel  升级vim yum install ncurses-devel wget https://github.com/vim/vim/archive/master.zip unzip master.zip cd vim-master cd src/ ./configure --with-features=huge -enable-pythoninterp --with-python-config-dir=/usr/lib/python2.7/config sudo make sudo make install export PATH=/usr/local/bin:$PATH  准备工作就绪，可以下载编译YCM了 git clone https://github.",
    "image" : "https://arbusz.github.io/xdeb-org.jpg",
    "keywords": ["vim","go"],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://arbusz.github.io/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Hugo Zen theme",
      "url": "https://arbusz.github.io/",
    }
  }
</script>

</head>

<body>
<div class="page layout__page layout__sidebar-second">
<header class="header layout__header" role="banner">

<h1 class="header__site-name">
<a href="/" title="Home" class="header__site-link" rel="home"><span>Hugo Zen theme</span></a>
</h1>
<div class="region header__region">


<form class="search-form" method="get" action="https://duckduckgo.com/">
<input type="search" name="q" class="search-text" placeholder="Search" title="Enter the terms you wish to search for." size="20" maxlength="128">
<input type="hidden" name="sites" value="arbusz.github.io">
<input type="submit" value="DuckDuckGo Search" class="hidden">
</form>

</div>
</header>




<nav class="main-menu layout__navigation" role="navigation">
<h2 class="visually-hidden">Main menu</h2>
<ul class="navbar">
<li><a class="" href="/">Home</a></li>
<li><a class="active" href="/post/">Post</a></li>
</ul>
</nav>


<main class="main layout__main" role="main">
<h1 class="title title-submitted">配置vim用于go开发</h1>
<article class="section-post single-view">
<header>
<p class="submitted">
<time class="modified-date" datetime="2018-09-02T17:10:44&#43;08:00">2 September, 2018</time>
</p>
<div class="tags">
Tags:
<ul>
<li><a href="/tags/vim">vim</a></li>
<li><a href="/tags/go">go</a></li>
</ul>
</div>
</header>
<div class="content">
<p>
因为服务器没有图形界面，所以项配置一个vim作为go语言开发工具。
服务器是centos，所以以下命令适用于centos系统：</p>

<h5 id="首先检查vim是否开启python支持">首先检查vim是否开启Python支持：</h5>

<p>运行<code>vim --version |grep python</code>
如果打印出的Python前面是减号，说明没有加入python支持，后面配置YCM就会报错。所以让我们重新编译vim。
更新源</p>

<pre><code>sudo yum upgrade
sduo yum update
</code></pre>

<p>升级gcc</p>

<pre><code>sudo yum install centos-release-scl -y
sudo yum install devtoolset-3-toolchain -y
sudo yum install gcc-c++
sudo scl enable devtoolset-3 bash
</code></pre>

<p>安装Python开发环境</p>

<pre><code>sudo yum upgrade
sudo yum install python-devel
</code></pre>

<p>升级vim</p>

<pre><code>yum install ncurses-devel
wget https://github.com/vim/vim/archive/master.zip
unzip master.zip
cd vim-master
cd src/
./configure --with-features=huge -enable-pythoninterp --with-python-config-dir=/usr/lib/python2.7/config
sudo make
sudo make install
export PATH=/usr/local/bin:$PATH
</code></pre>

<h5 id="准备工作就绪-可以下载编译ycm了">准备工作就绪，可以下载编译YCM了</h5>

<pre><code>git clone https://github.com/Valloric/YouCompleteMe.git ~/.vim/bundle/YouCompleteMe

cd ~/.vim/bundle/YouCompleteMe

git submodule update --init --recursive
</code></pre>

<p>编辑.vimrc文件，输入一下内容</p>

<pre><code>set nocompatible
filetype off
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
Plugin 'gmarik/Vundle.vim'
call vundle#end()
filetype plugin indent on
</code></pre>

<p>使用vim打开，后输入 :PluginInstall
完成后在 <code>Plugin ‘gmarik/Vundle.vim</code>的下一行输入 <code>Plugin‘Valloric/YouCompleteMe</code>，保持后退出。
然后执行以下命令</p>

<pre><code>cd ~/.vim/bundle/YouCompleteMe
./install.py --gocode-completer
</code></pre>

<p>如果需要支持C类的补全，用下面的命令。
<code>./install.py --clang-completer</code>
.vimrc的设置请参考官方文档。</p>

<h5 id="然后-安装vim-go插件">然后，安装vim-go插件</h5>

<p><code>Plugin 'fatih/vim-go'</code>,然后PluginInstall.
然后安装工具包的依赖
:GoInstallBinaries的执行是交互式的，你需要回车确认。
但是不幸的是，在安装时由于万里长城，一些包下不下来，只好一个一个git clone，然后go install.</p>

<pre><code>vim ~/.vim/bundle/vim-go/plugin/go.vim
</code></pre>

<p>可以看到所有依赖包了，接下来就是把所有被墙的包git+go install。</p>

<h5 id="vim-go默认是用ultisnips引擎插件-但这个插件需要单独安装">Vim-go默认是用ultisnips引擎插件，但这个插件需要单独安装。</h5>

<pre><code>Plugin 'SirVer/ultisnips'
Plugin 'honza/vim-snippets'
</code></pre>

<p>官方说这个插件和YCM冲突，所以在.vimrc里面设置一下</p>

<pre><code>&quot; YCM settings
let g:ycm_key_list_select_completion = ['', '']
let g:ycm_key_list_previous_completion = ['']
let g:ycm_key_invoke_completion = '&lt;C-Space&gt;'

&quot; UltiSnips setting
let g:UltiSnipsExpandTrigger=&quot;&lt;tab&gt;&quot;
let g:UltiSnipsJumpForwardTrigger=&quot;&lt;c-b&gt;&quot;
let g:UltiSnipsJumpBackwardTrigger=&quot;&lt;c-z&gt;&quot;
</code></pre>

<p>这样让YCM通过回车和向下的箭头来做list item正向选择，通过向上箭头做反向选择。通过ctrl+space来原地触发补齐提示。</p>

<p>其他个性化配置详见官方文档。</p>

<p>Reference:
&gt; <a href="https://blog.csdn.net/nzyalj/article/details/75331822">Centos7安装vim8.0 + YouCompleteMe</a>
&gt; <a href="http://www.cppblog.com/lizao2/archive/2017/05/08/214916.html">centos安装youcompleteme及简单使用</a>
&gt; <a href="https://tonybai.com/2014/11/07/golang-development-environment-for-vim/">Golang开发环境搭建-Vim篇</a>
&gt; <a href="http://vimzijun.net/2016/10/30/ultisnip/">vim 入坑指南（六）插件 UltiSnips</a></p>

</div>
</article>
</main>



<aside class="sidebar layout__second-sidebar" role="complementary">
<section>
<h4 class="menu"><a class="" href="/post/">Post</a></h4>
<ul class="menu">
<li><a class="" href="/post/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%AE%AEraft/">分布式协议 raft</a></li>
<li><a class="active" href="/post/%E9%85%8D%E7%BD%AEvim%E7%94%A8%E4%BA%8Ego%E5%BC%80%E5%8F%91/">配置vim用于go开发</a></li>
<li><a class="" href="/post/raft%E5%8D%8F%E8%AE%AE/">Raft协议</a></li>
<li><a class="" href="/post/%E4%B8%A4%E7%A7%8D%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B/">两种并发模型</a></li>
<li><a class="" href="/post/%E4%B8%80%E4%B8%AA%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F/">一个遍历目录的小程序</a></li>
<li><a class="" href="/post/%E5%8C%85%E5%90%ABnil%E6%8C%87%E9%92%88%E7%9A%84%E6%8E%A5%E5%8F%A3%E5%92%8Cnil%E6%8E%A5%E5%8F%A3/">包含nil指针的接口和nil接口</a></li>
<li><a class="" href="/post/go%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E5%87%BD%E6%95%B0/">Go语言笔记－函数</a></li>
<li><a class="" href="/post/go%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F/">Go语言笔记－表达式</a></li>
<li><a class="" href="/post/go%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E7%B1%BB%E5%9E%8B/">Go语言笔记－类型</a></li>
<li><a class="" href="/post/%E5%8D%8F%E7%A8%8Bcoroutines/">协程Coroutines</a></li>
</ul>
</section>
</aside>


<footer class="footer layout__footer" role="contentinfo">
<p><!--Creative Commons License-->This site is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<!--/Creative Commons License--></p>
<p>Powered by <a href="https://gohugo.io/">Hugo</a> and the <a href="https://github.com/frjo/hugo-theme-zen">Zen theme</a>.</p>

</footer>

</div>
<div class="mobile-nav-wrapper hidden">
  <div class="mobile-nav-cover"></div>
  <a href="#navigation" class="mobile-nav-toggle" aria-haspopup="true" role="button">Menu</a>
  <div class="mobile-nav-sheet"></div>
</div>
<script src="/js/jquery.slim.min.js"></script>
<script src="/js/script.js"></script>
</body>
</html>
